<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task 2</title>
</head>
<body>
  <h1>Login to the website</h1>
  <form>
    <input type="text" placeholder="Firstname" id="firstname">
    <input type="text" placeholder="Email" id="email">
    <button onclick="setCookies()">Log me in</button>
  </form>
  <h1>Cookies</h1>
  <button onclick="showCookies()">Show the cookies</button>

  <script>
    function setCookies() {
      let firstName = document.getElementById("firstname").value;
      let emailValue = document.getElementById("email").value;
      let date = new Date();

      date.setTime(date.getTime() + (10*24*60*60*1000));

      document.cookie = `firstname=${firstName}; expires=${date.toUTCString()}; path=/;`;
      document.cookie = `email=${emailValue}; expires=${date.toUTCString()}; path=/;`;
    }

    function showCookies() {
      const documentBody = document.querySelector("body");
      const newPTag = document.createElement("p");
      const firstNameCookie = decodeURIComponent(getCookie("firstname"));
      const cookieEmail = decodeURIComponent(getCookie("email"));

      newPTag.innerHTML = "Email: " + cookieEmail + " - " + "Firstname: " + firstNameCookie;

      documentBody.appendChild(newPTag);
    }

    function getCookie(name) {
      var match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
      if (match) {
        return match[2];
      } else {
        return ""
      }
    }
  </script>
</body>
</html>
